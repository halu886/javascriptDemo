<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="EventUtil.js"></script>
    <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
    <!-- <script src=”http://libs.baidu.com/jquery/2.0.0/jquery.min.js”></script> -->
    <!-- <script src=”http://libs.baidu.com/jquery/1.9.1/jquery.min.js”></script> -->
    <!-- <script src=”http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.8.3.min.js”></script> -->
</head>

<body>
    <!-- <video controls width="500px">
        <source src="test.mpg">
    </video> -->
    <!-- <video src="testWebm.webm" id="myVideo">Video player not availabel.</video> -->
    <div class="mediaplayer">
        <div class="video">
            <!-- <video width="300" height="200" src="testWebm.webm" id="player" poster="baidu.png"> -->
            video player not available
            </video>
        </div>
        <div class="controls">
            <input type="button" name="" value="play" id="video-btn">
            <span id="curtime">0</span>/
            <span id="duration">0</span>
        </div>
    </div>

    <script>
        $(function () {
            // if()
            var player = document.getElementById("player");
            var btn = document.getElementById('video-btn');
            var curtime = document.getElementById('curtime');
            var duration = document.getElementById('duration');
            // if (player.canPlayType("audio/mpeg")) {

            // }
            var audio = new Audio("testWebm.webm");
            EventUtil.addHandler(audio, "canplaythrough", function (event) {
                audio.play()
            })
            // duration.innerHTML = player.duration;

            // EventUtil.addHandler(btn, "click", function () {
            //     if (player.paused) {
            //         player.play();
            //         btn.value = "pause";
            //     } else {
            //         player.pause();
            //         btn.value = 'Play';
            //     }
            // })

            // setInterval(function () {
            //     curtime.innerHTML = player.currentTime;
            // }, 250)

            EventUtil.addHandler(window, "popstate", function (event) {
                var state = event.state;
                if (state) {
                    processState(state);
                }
            })

            history.pushState({ name: 'Nicholas' }, "Nicholas` page", "file:///d:/halu/VSCode/projects/JavaScriptDemo/脚本编程/scriptCode.html")
        })

    </script>
</body>

</html>