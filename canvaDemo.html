<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <img src="test.png">
    <div style="width:600px;height:500px">
        <canvas id="drawing" height="200px" width="200px">
            a drawing of something.
        </canvas>
    </div>
</body>
<script type="text/javascript">
    var drawing = document.getElementById("drawing");
    if (drawing.getContext) {
        // var context = drawing.getContext("2d");
        // var imgURI = drawing.toDataURL("image/png");
        // var image = document.createElement("img");
        // image.src = imgURI;
        // document.body.appendChild(image);
        var context = drawing.getContext("2d");
        // context.strokeStyle = "red";
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);

        // context.fillStyle = "rgba(0,0,255,0.5)";
        // context.fillRect(30, 30, 50, 50);
        // context.strokeStyle = "#ff0000";
        // context.strokeRect(10, 10, 50, 50);

        // context.strokeStyle = "rgba(0,0,255,0.5)";
        // context.strokeRect(30, 30, 50, 50);

        // // 2DClearRectExample01.htm
        // // 绘制红色矩形
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);
        // // 绘制半透明的矩形
        // context.fillStyle = "rgba(0,0,255,0.5)";
        // context.fillRect(30, 30, 50, 50);
        // // 在两个矩形重置的地方清除一个小矩形
        // context.clearRect(40, 40, 10, 10);

        // // 2DPathExample.htm
        // // 开始路径
        // context.beginPath();
        // // 绘制外圆
        // context.arc(100, 100, 99, 0, 2 * Math.PI, false);
        // // 绘制外圆
        // context.moveTo(194, 100);
        // context.arc(100, 100, 94, 0, 2 * Math.PI, false);
        // // 绘制分针
        // context.moveTo(100, 100);
        // context.lineTo(100, 15);
        // // 绘制时针
        // context.moveTo(100, 100);
        // context.lineTo(35, 100);
        // // 描边路径
        // context.stroke();
        // context.font = "bold 14px Arial";
        // context.textAlign = "center";
        // context.textBaseline = "middle";
        // // context.textAlign = "start";
        // context.fillText("12", 100, 20);

        // context.textAlign = "start";
        // context.fillText('12', 100, 40);
        // // context.fillText
        // context.textAlign = "end";
        // context.fillText("12", 100, 60);

        // // 2DTextExample03.htm
        // var fontSize = 100;
        // context.font = fontSize + "px Arial";
        // while (context.measureText("Hello world!").width > 140) {
        //     fontSize--;
        //     context.font = fontSize + "px Arial";
        // }
        // context.fillText("Hello world!", 10, 10);
        // context.fillText("Font size is" + fontSize + "px", 10, 50);

        // // 2DTransformExample01.htm
        // // 开始路径
        // context.beginPath();
        // // 绘制外圆
        // context.arc(100, 100, 99, 0, 2 * Math.PI, false);
        // // 绘制内圆
        // context.moveTo(194, 100);
        // context.arc(100, 100, 94, 0, 2 * Math.PI, false);
        // // 变换原点
        // context.translate(100, 100);
        // // 绘制分针
        // context.moveTo(0, 0);
        // context.lineTo(0, -85);
        // // 绘制时针
        // context.moveTo(0, 0);
        // context.lineTo(-65, 0);
        // // 描边路径
        // context.stroke();

        // // 2DTransformExample01.htm
        // // 开始路径
        // context.beginPath();
        // // 绘制外圆
        // context.arc(100, 100, 99, 0, 2 * Math.PI, false);
        // // 绘制内圆
        // context.moveTo(194, 100);
        // context.arc(100, 100, 94, 0, 2 * Math.PI, false);
        // // 变换原点
        // context.translate(100, 100);
        // // 旋转表针
        // context.rotate(1);
        // // 绘制分针
        // context.moveTo(0, 0);
        // context.lineTo(0, -85);
        // // 绘制时针
        // context.moveTo(0, 0);
        // context.lineTo(-65, 0);
        // // 描边路径
        // context.stroke();

        // // 2DSaveRestoreExample01.htm
        // context.fillStyle = "#ff0000";
        // context.save();
        // context.fillStyle = "#00ff00";
        // context.translate(100, 100);
        // context.save();
        // context.fillStyle = "#0000ff";
        // context.fillRect(0, 0, 100, 200);
        // context.restore();
        // context.fillRect(10, 10, 100, 200);
        // context.restore();
        // context.fillRect(0, 0, 100, 200);

        // // 2DDrawImageExample01.htm
        // // debugger
        // var image = document.images[0];
        // context.drawImage(image, 0, 10, 50, 50, 0, 100, 40, 60);

        // // 2DFillRectShadowExample01.htm
        // context.shadowOffsetX = 5;
        // context.shadowOffsetY = 5;
        // context.shadowBlur = 4;
        // context.shadowColor = "rgba(0,0,0,0.5)";

        // // 绘制红色矩形
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);
        // // 绘制蓝色矩形
        // context.fillStyle = "rgba(0,0,255,1)";
        // context.fillRect(30, 30, 50, 50);

        // // 2DFillRectGradientExample01.htm
        // var gradient = context.createLinearGradient(30, 30, 70, 70);

        // gradient.addColorStop(0, "white");
        // gradient.addColorStop(1, "black");
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);
        // context.fillStyle = gradient;
        // context.fillRect(50, 50, 50, 50);

        // function createRectLinearGradient(context, x, y, width, height) {
        //     return context.createLinearGradient(x, y, x + width, y + height);

        // }
        // var gradient = createRectLinearGradient(context, 30, 30, 50, 50);
        // gradient.addColorStop(0, "white");
        // gradient.addColorStop(1, "black");
        // // 绘制渐变矩形
        // context.fillStyle = gradient;
        // context.fillRect(30, 30, 50, 50);

        // var gradient = context.createRadialGradient(55, 55, 10, 55, 55, 30);

        // gradient.addColorStop(0, "white");
        // gradient.addColorStop(1, "black");
        // // 绘制红色矩形
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);
        // // 绘制渐变矩形
        // context.fillStyle = gradient;
        // context.fillRect(30, 30, 50, 50);   

        // var image = document.images[0];
        // var pattern = context.createPattern(image, "repeat");

        // // // 绘制矩形
        // // context.fillStyle = image;
        // // context.fillRect(10, 10, 150, 150);
        // // var red  = image.
        // var data = image.data;
        // var red = data[0];
        // var green = data[1];
        // var blue = data[2];
        // var alpha = data[3];

        // // 2DImageDataExample01.htm
        // context.drawImage(image, 0, 0);

        // // imageData = context.getImageData(0, 0, image.width, image.height);
        // var image = document.images[0];
        // var imageData = document.images[0];
        // var imageData, data, i, len, average, red, green, blue, alpha;
        // context.drawImage(image, 0, 0);
        // imageData = context.getImageData(0, 0, image.width, image.height);
        // data = imageData.data;


        // // 2DGlobalAlphaExample01.htm
        // // 合成
        // // 绘制红色矩形
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);
        // // 修改全局透明度
        // context.globalAlpha = 0.5;
        // // 绘制蓝色矩形
        // context.fillStyle = "rgba(0,0,255,1)";
        // context.fillRect(30, 30, 50, 50);
        // // 重置全局透明度
        // context.globalAlpha = 0;

        // // 2DGlobalCompositeOperationExample01.htm
        // // 绘制红色矩形
        // context.fillStyle = "#ff0000";
        // context.fillRect(10, 10, 50, 50);
        // // 设置合成操作
        // context.globalCompositOperation = "destination-over";
        // // 绘制蓝色矩形
        // context.fillStyle = "rgba(0,0,255,1)";
        // context.fillRect(30, 30, 50, 50);

        // // 视图
        // var buffer = new ArrayBuffer(20);

        // var bytes = buffer.byteLength;
        // console.log(buffer, bytes)

        // // 基于整个缓冲器创建一个新视图
        // var view = new DataView(buffer);

        // // 创建一个开始于字节9的新视图
        // var view = new DataView(buffer, 9)

        // // 创建一个从字节9开始到字节18的新视图
        // var veiw = new DataView(buffer, 9, 10);

        // console.log(view.byteOffset, view.byteLength);

        // // DataViewExample01.htm
        // var buffer = new ArrayBuffer(20);
        // var view = new DataView(buffer);
        // var value;
        // view.setUint16(0, 25);
        // // 不能从字节1开始，因为16位整数要用2B
        // view.setUint16(2, 50);
        // value = view.getUint16(0);
        // console.log(view, value)

        // // DataViewExample02.htm
        // var buffer = new ArrayBuffer(20);
        // var view = new DataView(buffer);
        // var value;
        // view.setUint16(0, 25);
        // value = view.getInt8(0);

        // console.log(value);

        // 类型化数组
        var buffer = new ArrayBuffer(20);
        // 创建一个新数组，使用整个缓冲区
        var int8s = new Int8Array(buffer);
        // 只使用从字节9开始的缓冲区
        var int16s = new Int16Array(buffer, 9);
        // 只使用从字节9到字节18的缓冲区
        var uint16s = new Unit16Array(buffer, 9, 10);

        // 使用缓冲区的一部分保存8位整数,另一部分保存16位整数
        var int8s = new Int8Array(buffer, 0, 10);
        var uint16s = new Unit16Array(buffer, 11, 10);

    }
</script>

</html>